
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Jason Johnston">
      
      
        <link rel="canonical" href="https://protectwise.github.io/troika/troika-core/animations-and-transitions/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-7.2.3">
    
    
      
        <title>Animations and Transitions - Troika JS</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.f7f47774.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#ffffff">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
  



  
  



  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-189971966-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="white" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#transitions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Troika JS" class="md-header__button md-logo" aria-label="Troika JS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9 286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Troika JS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Animations and Transitions
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/protectwise/troika/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Troika JS" class="md-nav__button md-logo" aria-label="Troika JS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9 286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"/></svg>

    </a>
    Troika JS
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/protectwise/troika/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        Troika Framework
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Troika Framework" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Troika Framework
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      <label class="md-nav__link" for="__nav_3_1">
        Getting Started
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Getting Started" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/setup/" class="md-nav__link">
        Setup
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/examples/" class="md-nav__link">
        Examples
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      <label class="md-nav__link" for="__nav_3_2">
        Core Concepts
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Core Concepts" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Core Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../facades/" class="md-nav__link">
        Facades
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../scene-descriptors/" class="md-nav__link">
        Scene Descriptors
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../interactivity-and-events/" class="md-nav__link">
        Interactivity and Events
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Animations and Transitions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Animations and Transitions
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#transitions" class="md-nav__link">
    Transitions
  </a>
  
    <nav class="md-nav" aria-label="Transitions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#duration-based" class="md-nav__link">
    Duration-based
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spring-based" class="md-nav__link">
    Spring-based
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#animations" class="md-nav__link">
    Animations
  </a>
  
    <nav class="md-nav" aria-label="Animations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#animation-spec-structure" class="md-nav__link">
    Animation Spec Structure
  </a>
  
    <nav class="md-nav" aria-label="Animation Spec Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keyframes" class="md-nav__link">
    keyframes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duration" class="md-nav__link">
    duration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delay" class="md-nav__link">
    delay
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#easing" class="md-nav__link">
    easing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iterations" class="md-nav__link">
    iterations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#direction" class="md-nav__link">
    direction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interpolate" class="md-nav__link">
    interpolate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paused" class="md-nav__link">
    paused
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exit-animations" class="md-nav__link">
    Exit Animations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interpolation" class="md-nav__link">
    Interpolation
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      <label class="md-nav__link" for="__nav_3_3">
        Troika 3D
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Troika 3D" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Troika 3D
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-3d/" class="md-nav__link">
        Troika 3D - Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-3d/scenes/" class="md-nav__link">
        Creating a 3D Scene
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-3d/objects/" class="md-nav__link">
        Adding 3D Objects
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-3d/interactivity-and-events/" class="md-nav__link">
        Interactivity and Events in 3D
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-3d/performance/" class="md-nav__link">
        Performance Optimization
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-3d/instancing/" class="md-nav__link">
        GPU Instancing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-3d/html-overlays/" class="md-nav__link">
        HTML Overlays
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-3d/text/" class="md-nav__link">
        3D Text
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-3d-ui/" class="md-nav__link">
        3D User Interfaces
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-xr/" class="md-nav__link">
        WebXR
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      <label class="md-nav__link" for="__nav_3_4">
        Troika 2D
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Troika 2D" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Troika 2D
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-2d/" class="md-nav__link">
        Troika 2D - Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-2d/objects/" class="md-nav__link">
        Interactivity in 2D
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-2d/html-overlays/" class="md-nav__link">
        HTML Overlays
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Troika Tools for Three.js
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Troika Tools for Three.js" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Troika Tools for Three.js
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-three-text/" class="md-nav__link">
        Troika 3D Text
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-three-utils/createDerivedMaterial/" class="md-nav__link">
        Derived Materials
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-three-utils/BezierMesh/" class="md-nav__link">
        BezierMesh
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../three-instanced-uniforms-mesh/" class="md-nav__link">
        InstancedUniformsMesh
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Other Tools
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Other Tools" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Other Tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troika-worker-utils/" class="md-nav__link">
        Worker Modules
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#transitions" class="md-nav__link">
    Transitions
  </a>
  
    <nav class="md-nav" aria-label="Transitions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#duration-based" class="md-nav__link">
    Duration-based
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spring-based" class="md-nav__link">
    Spring-based
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#animations" class="md-nav__link">
    Animations
  </a>
  
    <nav class="md-nav" aria-label="Animations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#animation-spec-structure" class="md-nav__link">
    Animation Spec Structure
  </a>
  
    <nav class="md-nav" aria-label="Animation Spec Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keyframes" class="md-nav__link">
    keyframes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duration" class="md-nav__link">
    duration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delay" class="md-nav__link">
    delay
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#easing" class="md-nav__link">
    easing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iterations" class="md-nav__link">
    iterations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#direction" class="md-nav__link">
    direction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interpolate" class="md-nav__link">
    interpolate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paused" class="md-nav__link">
    paused
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exit-animations" class="md-nav__link">
    Exit Animations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interpolation" class="md-nav__link">
    Interpolation
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/protectwise/troika/edit/master/docs/troika-core/animations-and-transitions.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Animations and Transitions</h1>
                
                <p>Troika has built-in support for declarative transitions and animations on the properties of <em>any</em> Facade, controlled via <code>transition</code> and <code>animation</code> properties in the <a href="../scene-descriptors/">scene descriptors</a>. These generally work very much like <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions">CSS transitions</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations">CSS animations</a>, so they should be very familiar to web developers.</p>
<blockquote>
<p>Note: These transitions and animations are driven by the <a href="https://github.com/protectwise/troika/tree/master/packages/troika-animation">troika-animation package</a>. Facade classes are automatically <a href="https://github.com/protectwise/troika/blob/master/packages/troika-core/src/facade/Animatable.js">extended to intercept property changes</a> and apply transitions when needed.</p>
</blockquote>
<h2 id="transitions">Transitions<a class="headerlink" href="#transitions" title="Permanent link">&para;</a></h2>
<p>Any descriptor can be given a <code>transition</code> property to automatically intercept changes to certain properties and animate from their previous values to their new values. </p>
<p>The <code>transition</code> property should be an object with transitionable property names as keys, and transition specs as values. Those specs can either be objects describing the transition parameters, or <code>true</code> for a default transition.</p>
<p>Troika supports both traditional duration-based transitions, like CSS, but also supports "spring" animations ala <a href="https://www.react-spring.io/">react-spring</a>. Spring animations can often give a more natural feel and behave better when target values change repeatedly during transition, but duration-based transitions can be more predictable. Use the approach that fits your case.</p>
<p>A basic example of a descriptor object that defines transitions for its <code>x</code>, <code>y</code>, and <code>z</code> properties:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
  <span class="nx">facade</span><span class="o">:</span> <span class="nx">MyObject</span><span class="p">,</span>
  <span class="nx">x</span><span class="o">:</span> <span class="nx">xVal</span><span class="p">,</span>
  <span class="nx">y</span><span class="o">:</span> <span class="nx">yVal</span><span class="p">,</span>
  <span class="nx">z</span><span class="o">:</span> <span class="nx">zVal</span><span class="p">,</span>
  <span class="nx">transition</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">x</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// uses a default duration-based transition</span>
    <span class="nx">y</span><span class="o">:</span> <span class="s1">&#39;spring&#39;</span><span class="p">,</span> <span class="c1">//uses a default spring-based transition</span>
    <span class="nx">z</span><span class="o">:</span> <span class="p">{</span> <span class="c1">//detailed transition parameters:</span>
      <span class="nx">duration</span><span class="o">:</span> <span class="mf">500</span><span class="p">,</span>
      <span class="nx">easing</span><span class="o">:</span> <span class="s1">&#39;easeOutExpo&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>When this descriptor is next applied with new values for <code>x</code>, <code>y</code>, and <code>z</code>, those values will be individually transitioned based on their configured parameters. That simple!</p>
<p>The custom transition config object can take one of two forms for duration- vs. spring-based animations:</p>
<h3 id="duration-based">Duration-based<a class="headerlink" href="#duration-based" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nx">transition</span><span class="o">:</span> <span class="p">{</span>
  <span class="nx">z</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">duration</span><span class="o">:</span> <span class="mf">1234</span><span class="p">,</span> <span class="c1">//in ms, defaults to 750</span>
    <span class="nx">easing</span><span class="o">:</span> <span class="s1">&#39;easeInOutBounce&#39;</span><span class="p">,</span> <span class="c1">//easing function, defaults to &#39;easeOutCubic&#39;</span>
    <span class="nx">delay</span><span class="o">:</span> <span class="mf">123</span><span class="p">,</span> <span class="c1">//in ms, defaults to 0</span>
    <span class="nx">interpolate</span><span class="o">:</span> <span class="s1">&#39;number&#39;</span> <span class="c1">//see &quot;Interpolation&quot; below</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="spring-based">Spring-based<a class="headerlink" href="#spring-based" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nx">transition</span><span class="o">:</span> <span class="p">{</span>
  <span class="nx">myProp</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">spring</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="c1">// or spring: &#39;wobbly&#39;,</span>
    <span class="c1">// or spring: {mass, tension, friction},</span>
    <span class="nx">delay</span><span class="o">:</span> <span class="mf">250</span> <span class="c1">//in ms, defaults to 0</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>The meanings of the spring configuration parameters, and the named presets, match those from <a href="https://www.react-spring.io/docs/hooks/api">react-spring</a>.</p>
<blockquote>
<p>Note: Spring-based transitions do not currently support custom interpolations so they should only be used for numeric values.</p>
</blockquote>
<h2 id="animations">Animations<a class="headerlink" href="#animations" title="Permanent link">&para;</a></h2>
<p>Any descriptor can be given an <code>animation</code> property to define one or more keyframe animations for certain properties. Any animations will start running when the Facade is created and added to the scene. If any aspect of the <code>animation</code> is changed later, the old animation will be stopped and the new one will be started.</p>
<p>Here's an example of an animation that will rotate the object indefinitely, looping every 1.5 seconds:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
  <span class="nx">facade</span><span class="o">:</span> <span class="nx">MyObject</span><span class="p">,</span>
  <span class="nx">animation</span><span class="o">:</span> <span class="p">{</span>
    <span class="mf">0</span><span class="o">:</span> <span class="p">{</span><span class="nx">rotateY</span><span class="o">:</span> <span class="mf">0</span><span class="p">},</span>
    <span class="mf">100</span><span class="o">:</span> <span class="p">{</span><span class="nx">rotateY</span><span class="o">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mf">2</span><span class="p">},</span>
    <span class="nx">duration</span><span class="o">:</span> <span class="mf">1500</span><span class="p">,</span>
    <span class="nx">iterations</span><span class="o">:</span> <span class="kc">Infinity</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="animation-spec-structure">Animation Spec Structure<a class="headerlink" href="#animation-spec-structure" title="Permanent link">&para;</a></h3>
<h4 id="keyframes">keyframes<a class="headerlink" href="#keyframes" title="Permanent link">&para;</a></h4>
<p>All animations need at least two keyframes. They are defined by numeric properties from <code>0</code> for the first frame to <code>100</code> for the last frame, or any number in between. Also the special property names <code>'from'</code> and <code>'to'</code> are aliases for <code>0</code> and <code>100</code> respectively.</p>
<p>Each keyframe value is an object holding a set of properties and their target values at that keyframe. The values will be interpolated between the keyframes as the animation runs, applying them to the Facade instance.</p>
<h4 id="duration">duration<a class="headerlink" href="#duration" title="Permanent link">&para;</a></h4>
<p>The number of milliseconds over which the animation's keyframes are run. If the animation loops (see <code>iterations</code>), this is the length of one iteration.</p>
<h4 id="delay">delay<a class="headerlink" href="#delay" title="Permanent link">&para;</a></h4>
<p>A number of milliseconds to wait before starting the animation's first frame.</p>
<h4 id="easing">easing<a class="headerlink" href="#easing" title="Permanent link">&para;</a></h4>
<p>An easing function for the animation, defaulting to "linear". This is applied to the whole animation's progression of keyframes, not individual keyframe segments.</p>
<h4 id="iterations">iterations<a class="headerlink" href="#iterations" title="Permanent link">&para;</a></h4>
<p>The number of times the animation should loop, defaulting to <code>1</code>. To loop endlessly, give it the value <code>Infinity</code>.</p>
<h4 id="direction">direction<a class="headerlink" href="#direction" title="Permanent link">&para;</a></h4>
<p>Which direction the animation should progress: <code>"forward"</code> (the default), <code>"backward"</code>, or <code>"alternate"</code> to toggle between forward and backward every other iteration.</p>
<h4 id="interpolate">interpolate<a class="headerlink" href="#interpolate" title="Permanent link">&para;</a></h4>
<p>Defines how non-numeric animated values should be interpolated between keyframes. It takes an object whose keys are property names and values are <a href="#Interpolation">interpolators</a>. For example:</p>
<div class="highlight"><pre><span></span><code><span class="nx">interpolate</span><span class="o">:</span> <span class="p">{</span>
  <span class="nx">emissive</span><span class="o">:</span> <span class="s1">&#39;color&#39;</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="paused">paused<a class="headerlink" href="#paused" title="Permanent link">&para;</a></h4>
<p>If <code>true</code>, the animation will be paused at its current keyframe. This can be toggled on and off to pause and unpause the animation.</p>
<h2 id="exit-animations">Exit Animations<a class="headerlink" href="#exit-animations" title="Permanent link">&para;</a></h2>
<p>Since they start when a Facade instance "enters" the scene, it's often convenient to think of <code>animation</code> as defining "entrance animations." Troika also supports "exit animations" which are applied when an object is removed from the scene. It will temporarily keep that object present in the scene long enough to run its exit animation, before fully destroying it. This allows you to do things like a nice smooth fade-out, scale-out, or fly-away rather than having objects abruptly disappear.</p>
<p>To define an exit animation, simply give the descriptor an <code>exitAnimation</code> property. Its value matches the structure of a regular <code>animation</code>.</p>
<h2 id="interpolation">Interpolation<a class="headerlink" href="#interpolation" title="Permanent link">&para;</a></h2>
<p>Transitions and animations will by default treat property values as numbers and interpolate their "tweened" values numerically. But some certain values, such as colors, require a different interpolation strategy.</p>
<p>Troika supports the following named interpolations:</p>
<ul>
<li><code>"number"</code> - simple linear interpolation between two numeric values (the default).</li>
<li><code>"color"</code> - interprets the start/end values as RGB colors, and interpolates each color channel independently. The start/end values can be 24-bit integers or any CSS color string value, and the interpolated values will always be returned as 24-bit integers (8 bits red, 8 bits green, 8 bits blue.)</li>
</ul>
<p>If you need a different interpolation, you can provide a custom function. Your function will take three parameters: the start value, the end value, and the progress between them (the output of the easing function) in the range from <code>0</code> to <code>1</code>. It must return an in-between value of the appropriate type.</p>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: 2022-01-18
    
  </small>
</div>
                  
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../interactivity-and-events/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Interactivity and Events" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Interactivity and Events
            </div>
          </div>
        </a>
      
      
        
        <a href="../../troika-3d/" class="md-footer__link md-footer__link--next" aria-label="Next: Troika 3D - Overview" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Troika 3D - Overview
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.709b4209.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.29db7785.min.js"></script>
      
    
  </body>
</html>